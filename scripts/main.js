"use strict";console.log("'Hello 'Hello!");var apiDomainURL="";if(apiDomainURL="localhost"===window.location.hostname?"http://localhost:3000":"https://frank.treasury.love",$(function(){$("#message").hide()}),localStorage.getItem("profile_firstname")){var profile_firstname=localStorage.getItem("profile_firstname");console.log("Found profile firstname from storage "+profile_firstname),$("#profile-name").text(profile_firstname),$("#profile").hide()}null===localStorage.getItem("profile_id")&&(console.log("No profile found. redireting to welcome"),window.location="welcome.html"),$("input[type=radio][name=received]").change(function(){"received"==this.value?$("#rating-element").show():"given"==this.value&&$("#rating-element").hide()}),$("#love-bank").submit(function(){var e=$("#rating").val(),t=$(this).find("textarea").val(),o=localStorage.getItem("profile_id"),a=(localStorage.getItem("profile_firstname"),'{ "data":{ "type": "love-banks","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+o+'" }}},"attributes": {"note":"'+t+'", "rating":'+e+"}}}");console.log(a),$.ajax({type:"POST",url:apiDomainURL+$(this).attr("action"),data:a,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),toastr.success("Successfully saved entry"),$("#love-bank").trigger("reset")}).error(function(e){console.log(e),toastr.error("There was a problem.")}),event.preventDefault()}),$("#mood").submit(function(){var e=$("#rating").val(),t=$(this).find("textarea").val(),o=localStorage.getItem("profile_id"),a=(localStorage.getItem("profile_firstname"),'{ "data":{ "type": "moods","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+o+'" }}},"attributes": {"note":"'+t+'", "rating":'+e+"}}}");console.log(a),$.ajax({type:$(this).attr("method"),url:apiDomainURL+$(this).attr("action"),data:a,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),toastr.success("Successfully saved entry"),$("#mood").trigger("reset")}).error(function(e){console.log(e),toastr.error("There was a problem.")}),event.preventDefault()}),$("#entry").submit(function(){var e=$("#date-picker-2").val(),t=$("#rating").val(),o=$("input[name=received]:checked",$(this)).val();"given"===o?(o=!1,t=null):o=!0;var a=$("input[name=keep_private]:checked",$(this)).val(),i=$(this).find("textarea").val(),r=localStorage.getItem("profile_id"),n=(localStorage.getItem("profile_firstname"),localStorage.getItem("linked_profile_id"));"undefined"==typeof o&&(o=!1),"undefined"==typeof a&&(a=!1);var l='{ "data":{ "type": "entries","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+r+'" }}},"attributes": {"received":"'+o+'","private":"'+a+'","note":"'+i+'", "rating":'+t+',"linked-profile-id":'+n+', "occurred-on":"'+e+'"}}}';console.log(l),$.ajax({type:$(this).attr("method"),url:apiDomainURL+$(this).attr("action"),data:l,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),toastr.success("Successfully saved entry"),$("#entry").trigger("reset")}).error(function(e){console.log(e),toastr.error("There was a problem.")}),event.preventDefault()});