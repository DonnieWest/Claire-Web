"use strict";console.log("'Hello 'Hello!");var profile_firstname=localStorage.getItem("profile_firstname"),linked_ID=localStorage.getItem("linked_profile_id"),linked_FirstName=localStorage.getItem("linked_profile_firstname");$(function(){$("#message").hide()}),profile_firstname&&(console.log("Found profile firstname from storage "+profile_firstname),$("#profile-name").text("Welcome "+profile_firstname)),linked_FirstName&&$("#linked_FirstName").text("Linked to "+linked_FirstName),null===linked_ID&&$("#message").text("You must define a partner before you can submit an entry!").addClass("alert alert-warning").show(),$("#profile").submit(function(){var e=$(this).find('input[name="firstname"]').val(),t=$(this).find('input[name="lastname"]').val(),a=$(this).find('input[name="email"]').val(),o='{"data": {"type":"profiles", "attributes":{"firstname":"'+e+'", "lastname":"'+t+'", "email":"'+a+'"}}}';console.log(o),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:o,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(t){console.log("JSON success response",t),localStorage.setItem("profile_id",t.data.id),localStorage.setItem("profile_firstname",e),$("#message").text("Success!").show()}).error(function(e){console.log(e),$("#message").text("Oops, there was a problem").show()}),event.preventDefault()}),$("#linked-profile-form").submit(function(){var e=$(this).find('input[name="email"]').val();$.ajax({type:$(this).attr("method"),url:$(this).attr("action")+e,headers:{Accept:"application/json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e);var t=e.data[0].id,a=e.data[0].attributes.firstname;localStorage.setItem("linked_profile_id",t),localStorage.setItem("linked_profile_firstname",a),$("#message").text("Success!").show()}).error(function(e){console.log(e),$("#message").text("Oops, there was a problem").show()}),event.preventDefault()}),$("#love-bank").submit(function(){var e=$("input[name=rating]:checked",$(this)).val(),t=$(this).find('input[name="description"]').val(),a=localStorage.getItem("profile_id"),o='{ "data":{ "type": "love-banks","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+a+'" }}},"attributes": {"note":"'+t+'", "rating":'+e+"}}}";console.log(o),$.ajax({type:"POST",url:$(this).attr("action"),data:o,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),$("#message").text("Success!")}).error(function(e){console.log(e),$("#message").text("Oops, there was a problem").show()}),event.preventDefault()}),$("#mood").submit(function(){var e=$("input[name=mood_rating]:checked",$(this)).val(),t=$(this).find('input[name="description"]').val(),a=localStorage.getItem("profile_id"),o='{ "data":{ "type": "moods","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+a+'" }}},"attributes": {"note":"'+t+'", "rating":'+e+"}}}";console.log(o),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:o,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),$("#message").text("Success!").show()}).error(function(e){console.log(e),$("#message").text("Oops, there was a problem").show()}),event.preventDefault()}),$("#entry").submit(function(){var e=$("#date-picker-2").val(),t=$("input[name=rating]:checked",$(this)).val(),a=$("input[name=received]:checked",$(this)).val(),o=$("input[name=keep_private]:checked",$(this)).val(),s=$(this).find('input[name="description"]').val(),i=localStorage.getItem("profile_id");"undefined"==typeof a&&(a=!1),"undefined"==typeof o&&(o=!1);var n='{ "data":{ "type": "entries","relationships": {"profile":{ "data":{ "type": "profiles", "id": "'+i+'" }}},"attributes": {"received":"'+a+'","private":"'+o+'","note":"'+s+'", "rating":'+t+',"linked-profile-id":'+linked_ID+', "occurred-on":"'+e+'"}}}';console.log(n),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:n,headers:{Accept:"application/json","Content-Type":"application/vnd.api+json"},dataType:"JSON"}).success(function(e){console.log("JSON success response",e),$("#message").text("Success!").show()}).error(function(e){console.log(e),$("#message").text("Oops, there was a problem").show()}),event.preventDefault()});